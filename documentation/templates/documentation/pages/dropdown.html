{% extends "documentation/base.html" %}
{% load static %}
{% block content %}
  <div class="px-4 sm:px-6 lg:px-8 xl:pr-60 max-w-screen-xl mx-auto">
  <div>
    <!-- TITLE -->
    <div class="mb-10 flex flex-col sm:flex-row items-start sm:items-center gap-2">
      <p class="text-3xl sm:text-4xl font-bold text-amber-400">Cashew</p>
      <p class="text-3xl sm:text-4xl font-bold text-yellow-950">Dropdown</p>
    </div>

    <!-- TABLE -->
    <div class="overflow-x-auto max-h-60 bg-amber-100 shadow-inner rounded-md mb-10">
      <table class="min-w-full text-left text-sm text-yellow-950">
        <thead class="bg-amber-300 font-bold uppercase text-xs text-yellow-950">
          <tr>
            <th class="px-4 py-2 whitespace-nowrap">Class name</th>
            <th class="px-4 py-2 whitespace-nowrap">Type</th>
            <th class="px-4 py-2 whitespace-nowrap">Description</th>
          </tr>
        </thead>
        <tbody class="bg-amber-50 divide-y divide-amber-200">
          <tr>
            <td class="px-4 py-3">ch-dropdown</td>
            <td class="px-4 py-3"><span class="ch-badge-outline">Component</span></td>
            <td class="px-4 py-3">Dropdown</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-left</td>
            <td class="px-4 py-3"><span class="ch-badge-ok-outline">Positioning</span></td>
            <td class="px-4 py-3">Dropdown showing on the left side</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-right</td>
            <td class="px-4 py-3"><span class="ch-badge-ok-outline">Positioning</span></td>
            <td class="px-4 py-3">Dropdown showing on the right side</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-top</td>
            <td class="px-4 py-3"><span class="ch-badge-ok-outline">Positioning</span></td>
            <td class="px-4 py-3">Dropdown showing on the top</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-center</td>
            <td class="px-4 py-3"><span class="ch-badge-ok-outline">Positioning</span></td>
            <td class="px-4 py-3">Dropdown showing on the center bottom</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-end</td>
            <td class="px-4 py-3"><span class="ch-badge-ok-outline">Positioning</span></td>
            <td class="px-4 py-3">Dropdown showing on the bottom aligned to the end</td>
          </tr>
          <tr>
            <td class="px-4 py-3">ch-dropdown-item</td>
            <td class="px-4 py-3"><span class="ch-badge-info-outline">Style</span></td>
            <td class="px-4 py-3">Dropdown items</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- DROPDOWN EXAMPLE -->
    <div class="mb-12 space-y-4">
      <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2">
        <img src="{% static 'documentation/images/Cashew.svg' %}" alt="Cashew" class="w-8 h-8">
        <p class="font-bold text-yellow-950">Dropdown</p>
      </div>
      <div class="flex flex-wrap gap-2">
        <button class="cursor-pointer ch-btn ch-btn-sm ch-btn-warm" onclick="toggleDropdownPreview()">Code</button>
        <button class="cursor-pointer ch-btn ch-btn-sm ch-btn-warm" onclick="showDropdownCSS()">CSS</button>
        <button class="cursor-pointer ch-btn ch-btn-sm ch-btn-warm" onclick="showDropdownJS()">JS</button>
      </div>

      <div id="dropdownPreviewArea" class="bg-amber-200 shadow-inner text-white p-4 rounded-md flex items-center justify-center">
        <div class="relative inline-block">
          <button onclick="toggleDropdown()" class="ch-btn">Dropdown</button>
          <div id="dropdownMenu" class="ch-dropdown hidden">
            <div>
              <a href="#" class="ch-dropdown-item">Option 1</a>
              <a href="#" class="ch-dropdown-item">Option 2</a>
              <a href="#" class="ch-dropdown-item">Option 3</a>
            </div>
          </div>
        </div>
      </div>

      <p class="text-sm text-yellow-950"><span class="font-bold">*Note:</span> When dealing with Cashew Dropdowns, do not forget to set a container with <code class="bg-amber-100 px-1 py-0.5 rounded">relative</code> and <code class="bg-amber-100 px-1 py-0.5 rounded">inline-block</code> attributes.</p>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="mt-16">
    {% include 'documentation/const/footer.html' %}
  </div>
</div>


   <!-- JavaScript -->
<script>
let dropdownShowingCode = false;
let dropdownShowingCSS = false;
let dropdownShowingJS = false;

function toggleDropdown() {
  const menu = document.getElementById("dropdownMenu");
  menu.classList.toggle("hidden");
}

function toggleDropdownPreview() {
  const preview = document.getElementById("dropdownPreviewArea");

  if (!dropdownShowingCode) {
    preview.innerHTML = `
      <pre class="px-4 py-2 bg-gray-800 text-green-200 w-full rounded-md max-h-60 overflow-y-auto">
<code>
&lt;div class="relative inline-block"&gt;
    &lt;button onclick="toggleDropdown()" class="ch-btn"&gt;Click Me!&lt;/button&gt;

    &lt;div id="dropdownMenu" class="ch-dropdown hidden"&gt;
        &lt;div&gt;
            &lt;a href="#" class="ch-dropdown-item"&gt;Option 1&lt;/a&gt;
            &lt;a href="#" class="ch-dropdown-item"&gt;Option 2&lt;/a&gt;
            &lt;a href="#" class="ch-dropdown-item"&gt;Option 3&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code>
</pre>

    `;
    dropdownShowingCode = true;
    dropdownShowingCSS = false;
    dropdownShowingJS = false;
  } else {
    showDropdownPreview();
  }
}

function showDropdownCSS() {
  const preview = document.getElementById("dropdownPreviewArea");

  if (!dropdownShowingCSS) {
    preview.innerHTML = `
      <pre class="px-4 py-2 bg-gray-800 text-blue-200 w-full rounded-md max-h-60 overflow-y-auto"><code>
.ch-btn {
    @apply inline-block shadow-none border border-black/10 bg-gray-100 px-4 
    py-2 font-bold text-black rounded-sm cursor-pointer active:scale-97;
  }

.ch-dropdown {
  @apply mt-2 w-40 bg-white border border-gray-200 rounded shadow-md absolute z-10;
}

.ch-dropdown-item {
  @apply block px-4 py-2 text-sm text-black hover:bg-gray-200 cursor-pointer;
}

/* POSITIONING */

/* Dropdown appears to the left of the button */
.ch-dropdown-left {
  @apply right-full top-1/2 transform -translate-y-1/2 mr-2;
}

/* Dropdown appears to the right of the button */
.ch-dropdown-right {
  @apply left-full top-1/2 transform -translate-y-1/2 ml-2;
}

/* Dropdown appears above the button */
.ch-dropdown-top {
  @apply left-1/2 bottom-full transform -translate-x-1/2 mb-2;
}

/* Dropdown appears centered below the button*/
.ch-dropdown-center {
  @apply left-1/2 top-full transform -translate-x-1/2 mt-2;
}

/* Dropdown appears aligned to the end (right) below the button */
.ch-dropdown-end {
  @apply right-0 top-full mt-2;
}
      </code></pre>
    `;
    dropdownShowingCode = false;
    dropdownShowingCSS = true;
    dropdownShowingJS = false;
  } else {
    showDropdownPreview();
  }
}

function showDropdownJS() {
  const preview = document.getElementById("dropdownPreviewArea");

  if (!dropdownShowingJS) {
    preview.innerHTML = `
      <pre class="px-4 py-2 bg-gray-800 text-yellow-200 w-full rounded-md max-h-60 overflow-y-auto"><code>
function toggleDropdown() {
  const menu = document.getElementById("dropdownMenu");
  menu.classList.toggle("hidden");
}

document.addEventListener("click", function (e) {
  const menu = document.getElementById("dropdownMenu");
  const button = e.target.closest("button");

  if (!e.target.closest("#dropdownMenu") && !button) {
    menu.classList.add("hidden");
  }
});
      </code></pre>
    `;
    dropdownShowingCode = false;
    dropdownShowingCSS = false;
    dropdownShowingJS = true;
  } else {
    showDropdownPreview();
  }
}

function showDropdownPreview() {
  const preview = document.getElementById("dropdownPreviewArea");
  preview.innerHTML = `
    <div>
      <button onclick="toggleDropdown()" class="ch-btn">Click Me!</button>
      <div id="dropdownMenu" class="ch-dropdown hidden">
        <div>
          <a href="#" class="ch-dropdown-item">Option 1</a>
          <a href="#" class="ch-dropdown-item">Option 2</a>
          <a href="#" class="ch-dropdown-item">Option 3</a>
        </div>
      </div>
    </div>
  `;
  dropdownShowingCode = false;
  dropdownShowingCSS = false;
  dropdownShowingJS = false;
}

/* DROPDOWN TOGGLE */
function toggleDropdown() {
    const menu = document.getElementById("dropdownMenu");
    menu.classList.toggle("hidden");
  }

  // Optional: Hide dropdown when clicking outside
  document.addEventListener("click", function (e) {
    const menu = document.getElementById("dropdownMenu");
    const button = e.target.closest("button");

    if (!e.target.closest("#dropdownMenu") && !button) {
      menu.classList.add("hidden");
    }
  });
</script>
{% endblock  %}